{
  "name": "My workflow",
  "nodes": [
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.3,
      "position": [
        0,
        0
      ],
      "id": "f3fabe5b-fd43-454a-ae6a-3be78408682d",
      "name": "When chat message received",
      "webhookId": "256d2680-556a-473f-8383-ab46cf64318b"
    },
    {
      "parameters": {
        "options": {
          "systemMessage": " You are an Islamic scholar assistant. For queries about Quran verses or topics, use the 'Fetch Quran' tool to get the verse in Arabic with English translation (e.g., en.asad edition). Then use the 'Fetch Hadith' tool to get related Hadith (search by keyword or number, using eng-bukhari edition if possible). Include references (e.g., book, chapter, Hadith number). Finally, provide a clear explanation or connection using your knowledge. Structure responses with sections: Quran Verse, Translation, Related Hadith, References, Explanation."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        224,
        0
      ],
      "id": "b550a32f-e8a8-402f-b6b0-ceb16b901bcc",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.0-flash",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        96,
        208
      ],
      "id": "9e46f11b-7897-4b53-a6e9-96d7ebbea526",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "w7BfeAGW8u33HBtj",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "contextWindowLength": 10
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        240,
        208
      ],
      "id": "bd5bc100-5e6f-46fa-97dc-2369456b01c7",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "url": "http://api.alquran.cloud/v1/quran/quran-uthmani",
        "options": {
          "response": {
            "response": {
              "responseFormat": "json"
            }
          }
        }
      },
      "type": "n8n-nodes-base.httpRequestTool",
      "typeVersion": 4.2,
      "position": [
        496,
        192
      ],
      "id": "3da799dd-cf70-4187-a494-aa5d560b68a0",
      "name": "Fetch Quran Verse"
    },
    {
      "parameters": {
        "url": "https://hadithapi.com/api/hadiths/?apiKey=$2y$10$uV82cVMkbZGRHgXonYmJOu1iFNUhGEGRsxhwXghZAKehh9VOcZFe",
        "options": {
          "response": {
            "response": {
              "responseFormat": "json"
            }
          }
        }
      },
      "type": "n8n-nodes-base.httpRequestTool",
      "typeVersion": 4.2,
      "position": [
        368,
        256
      ],
      "id": "4188f408-8fef-4a0e-af45-edcf9c0e144e",
      "name": "Fetch Hadith"
    }
  ],
  "pinData": {},
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Fetch Quran Verse": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Fetch Hadith": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "32930fe7-b12c-462f-b6b8-a912f7bf32ec",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "0467111bc4f66a725c887ca43c19349b5efdc360dba0a9e81d0d1bbd6acbf941"
  },
  "id": "cn39r7lddoZ7JWJy",
  "tags": []
}